<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Una Cara M√°s</title>
  </head>

  <body>
    <!-- HEADER ELEMENTS (always visible) -->
    <div class="world-clocks">
      <div class="city" data-timezone="America/New_York">NYC: <span class="clock"></span></div>
      <div class="city" data-timezone="America/New_York">Miami: <span class="clock"></span></div>
      <div class="city" data-timezone="America/Phoenix">Phoenix: <span class="clock"></span></div>
      <div class="city" data-timezone="America/Puerto_Rico">San Juan: <span class="clock"></span></div>
      <div class="city" data-timezone="Europe/London">London: <span class="clock"></span></div>
      <div class="city" data-timezone="Asia/Tokyo">Tokyo: <span class="clock"></span></div>
    </div>

    <p class="artist-name">KOVA PARKER</p>
    <div id="live-clock" class="live-clock"></div>

    <main class="scroll-container">
      <!-- PANEL 1 - Album Cover -->
      <section class="panel panel-1">
        <img src="/images/gemini.png" alt="Album Cover" class="album-cover-fullscreen" />
        <div class="album-info">
          <p class="album-title">UNA CARA M√ÅS</p>
          <p class="album-date">DROPPED ON FEBRUARY 28, 2025</p>
        </div>
      </section>

      <!-- PANEL 2 - Video -->
      <section class="panel panel-2 panel-video">
        <video id="promo-video" class="promo-video" playsinline muted loop></video>
        <button class="unmute-button" id="unmute-button">UNMUTE</button>
      </section>

      <!-- PANEL 3 - Poster Grid -->
      <section class="panel panel-3">
        <div class="poster-grid">
          <!-- Poster Items with hover videos and flip cards -->
          <div class="poster-item">
            <div class="poster-inner">
              <div class="poster-front">
                <img src="/images/goboy.png" alt="Go Boy" />
                <video class="poster-video" src="/videos/goboy.mp4" muted loop playsinline></video>
              </div>
              <div class="poster-back">
                <h3 class="poster-title">GO BOY!!!</h3>
                <div class="poster-credits">
                  <p>KOVA PARKER</p>
                  <p><strong>PRODUCERS:</strong><br>KOVA PARKER<br>DONTKNOWMORGAN</p>
                  <p><strong>MIXING:</strong><br>CRISTIAN SOTO<br>RAFFERTY SANTIAGO</p>
                  <p><strong>MASTERING:</strong><br>ORLANDO FERRER</p>
                </div>
              </div>
            </div>
          </div>
          <div class="poster-item">
            <div class="poster-inner">
              <div class="poster-front">
                <img src="/images/manana.png" alt="Ma√±ana" />
                <video class="poster-video" src="/videos/manana.mp4" muted loop playsinline></video>
              </div>
              <div class="poster-back">
                <h3 class="poster-title">Ma√±ana se Acaba el üåéüåéüåé</h3>
                <div class="poster-credits">
                  <p>KOVA PARKER</p>
                  <p><strong>PRODUCERS:</strong><br>KOVA PARKER<br>DONTKNOWMORGAN</p>
                  <p><strong>MIXING:</strong><br>CRISTIAN SOTO<br>RAFFERTY SANTIAGO</p>
                  <p><strong>MASTERING:</strong><br>ORLANDO FERRER</p>
                </div>
              </div>
            </div>
          </div>
          <div class="poster-item">
            <div class="poster-inner">
              <div class="poster-front">
                <img src="/images/undia.png" alt="Un D√≠a" />
                <video class="poster-video" src="/videos/undia.mp4" muted loop playsinline></video>
              </div>
              <div class="poster-back">
                <h3 class="poster-title">Un D√≠a Normalllll</h3>
                <div class="poster-credits">
                  <p>KOVA PARKER</p>
                  <p><strong>PRODUCERS:</strong><br>KOVA PARKER<br>DONTKNOWMORGAN</p>
                  <p><strong>MIXING:</strong><br>CRISTIAN SOTO<br>RAFFERTY SANTIAGO</p>
                  <p><strong>MASTERING:</strong><br>ORLANDO FERRER</p>
                </div>
              </div>
            </div>
          </div>
          <div class="poster-item">
            <div class="poster-inner">
              <div class="poster-front">
                <img src="/images/gioia.png" alt="Gioia" />
                <video class="poster-video" src="/videos/gioia.mp4" muted loop playsinline></video>
              </div>
              <div class="poster-back">
                <h3 class="poster-title">GIOIAAAA</h3>
                <div class="poster-credits">
                  <p><strong>PRODUCERS:</strong><br>KOVA PARKER<br>DONTKNOWMORGAN</p>
                  <p><strong>MIXING:</strong><br>RAFFERTY SANTIAGO<br>CRISTIAN SOTO</p>
                  <p><strong>MASTERING:</strong><br>ORLANDO FERRER</p>
                </div>
              </div>
            </div>
          </div>
          <div class="poster-item">
            <div class="poster-inner">
              <div class="poster-front">
                <img src="/images/togya.png" alt="Togya" />
                <video class="poster-video" src="/videos/togya.mp4" muted loop playsinline></video>
              </div>
              <div class="poster-back">
                <h3 class="poster-title">TOGYAAAA</h3>
                <div class="poster-credits">
                  <p><strong>PRODUCERS:</strong><br>KOVA PARKER<br>SAPJER<br>DONTKNOWMORGAN</p>
                  <p><strong>MIXING:</strong><br>RAFFERTY SANTIAGO<br>CRISTIAN SOTO</p>
                  <p><strong>MASTERING:</strong><br>ORLANDO FERRER</p>
                </div>
              </div>
            </div>
          </div>
          <div class="poster-item">
            <div class="poster-inner">
              <div class="poster-front">
                <img src="/images/obsesivo.png" alt="Obsesivo" />
                <video class="poster-video" src="/videos/obsesivo.mp4" muted loop playsinline></video>
              </div>
              <div class="poster-back">
                <h3 class="poster-title">OBSESIVO COMPULSIVO.</h3>
                <div class="poster-credits">
                  <p><strong>PRODUCERS:</strong><br>KOVA PARKER<br>DONTKNOWMORGAN</p>
                  <p><strong>GUITAR:</strong><br>MO BHUIYAN</p>
                  <p><strong>MIXING:</strong><br>RAFFERTY SANTIAGO<br>CRISTIAN SOTO</p>
                  <p><strong>MASTERING:</strong><br>ORLANDO FERRER</p>
                </div>
              </div>
            </div>
          </div>
          <div class="poster-item">
            <div class="poster-inner">
              <div class="poster-front">
                <img src="/images/redrocks.png" alt="Red Rocks" />
                <video class="poster-video" src="/videos/redrocks.mp4" muted loop playsinline></video>
              </div>
              <div class="poster-back">
                <h3 class="poster-title">KOVA AT RED ROCKSSSS</h3>
                <div class="poster-credits">
                  <p><strong>PRODUCERS:</strong><br>KOVA PARKER<br>DONTKNOWMORGAN</p>
                  <p><strong>MIXING:</strong><br>CRISTIAN SOTO</p>
                  <p><strong>MASTERING:</strong><br>ORLANDO FERRER</p>
                </div>
              </div>
            </div>
          </div>
          <div class="poster-item">
            <div class="poster-inner">
              <div class="poster-front">
                <img src="/images/yono.png" alt="Yo No" />
                <video class="poster-video" src="/videos/yono.mp4" muted loop playsinline></video>
              </div>
              <div class="poster-back">
                <h3 class="poster-title">yo no soy tu paiiii</h3>
                <div class="poster-credits">
                  <p><strong>PRODUCERS:</strong><br>KOVA PARKER<br>DONTKNOWMORGAN</p>
                  <p><strong>MIXING:</strong><br>RAFFERTY SANTIAGO<br>CRISTIAN SOTO</p>
                  <p><strong>MASTERING:</strong><br>ORLANDO FERRER</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- PANEL 4 - Section 3 -->
      <section class="panel panel-4">
        <h1>Section 3</h1>
      </section>
    </main>

    <!-- Scripts -->
    <script type="module">
      const MONTHS = ["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];
      function padZero(num) { return num.toString().padStart(2, '0'); }

      function formatWorldClock(date, tz) {
        const options = { timeZone: tz };
        const local = new Date(date.toLocaleString('en-US', options));
        const month = MONTHS[local.getMonth()];
        const day = local.getDate();
        const hours = padZero(local.getHours());
        const minutes = padZero(local.getMinutes());
        return `${month} ${day} ${hours}:${minutes}`;
      }

      function formatLiveClock(date) {
        const month = MONTHS[date.getMonth()];
        const day = date.getDate();
        const year = date.getFullYear();
        const hours = padZero(date.getHours());
        const minutes = padZero(date.getMinutes());
        const seconds = padZero(date.getSeconds());
        return `${month} ${day} ${year} ${hours}:${minutes}:${seconds}`;
      }

      function updateClock() {
        const now = new Date();
        document.getElementById('live-clock').textContent = formatLiveClock(now);
        document.querySelectorAll('.city').forEach(city => {
          const tz = city.getAttribute('data-timezone');
          city.querySelector('.clock').textContent = formatWorldClock(now, tz);
        });
      }
      setInterval(updateClock, 1000); updateClock();

      // PANEL elements
      const promoVideo = document.getElementById('promo-video');
      const unmuteButton = document.getElementById('unmute-button');
      const panel1 = document.querySelector('.panel-1');
      const panel2 = document.querySelector('.panel-2');
      const panel3 = document.querySelector('.panel-3');
      const panel4 = document.querySelector('.panel-4');

      const worldClocksEl = document.querySelector('.world-clocks');
      const liveClockEl = document.getElementById('live-clock');

      promoVideo.src = 'https://sbbcylaz068adqhu.public.blob.vercel-storage.com/promo.mov';

      // Intersection Observer for video autoplay
      const videoObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.target === panel2) {
            if (entry.isIntersecting) {
              promoVideo.play();
            } else {
              promoVideo.pause();
            }
          }
        });
      }, { threshold: 0.5 });

      videoObserver.observe(panel2);

      // Unmute button
      unmuteButton.addEventListener('click', () => {
        promoVideo.muted = false;
        unmuteButton.style.display = 'none';
      });

      // Scroll behavior for header color changes
      document.querySelector('.scroll-container').addEventListener('scroll', () => {
        const scrollTop = panel1.parentElement.scrollTop;
        const panel1Height = panel1.offsetHeight;
        const panel2Height = panel2.offsetHeight;

        if (scrollTop >= (panel1Height + panel2Height)) {
          worldClocksEl.style.color = 'black';
          liveClockEl.style.color = 'black';
        } else {
          worldClocksEl.style.color = 'white';
          liveClockEl.style.color = 'white';
        }
      });

      // Poster hover videos and flip interaction
      const posterItems = document.querySelectorAll('.poster-item');
      let currentlyFlipped = null;

      posterItems.forEach(item => {
        const video = item.querySelector('.poster-video');
        const inner = item.querySelector('.poster-inner');
        
        // Hover behavior - only when not flipped
        item.addEventListener('mouseenter', () => {
          if (!item.classList.contains('flipped')) {
            video.style.display = 'block';
            video.play();
          }
        });
        
        item.addEventListener('mouseleave', () => {
          if (!item.classList.contains('flipped')) {
            video.pause();
            video.style.display = 'none';
          }
        });

        // Click to flip
        item.addEventListener('click', () => {
          // If clicking the currently flipped card, flip it back
          if (item.classList.contains('flipped')) {
            item.classList.remove('flipped');
            video.pause();
            video.style.display = 'none';
            currentlyFlipped = null;
          } else {
            // Flip back the previously flipped card if exists
            if (currentlyFlipped) {
              currentlyFlipped.classList.remove('flipped');
              const prevVideo = currentlyFlipped.querySelector('.poster-video');
              prevVideo.pause();
              prevVideo.style.display = 'none';
            }
            
            // Flip this card
            item.classList.add('flipped');
            video.pause();
            video.style.display = 'none';
            currentlyFlipped = item;
          }
        });
      });
    </script>

    <style>
      html, body { margin: 0; height: 100%; }
      body { font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif; overflow: hidden; }

      .scroll-container { height: 100vh; overflow-y: auto; scroll-snap-type: y mandatory; }

      .panel {
        height: 100vh;
        scroll-snap-align: start;
        scroll-snap-stop: always;
        position: relative;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        color: white;
      }

      .panel-2, .panel-3, .panel-4 { font-size: 4rem; }
      .panel-2 { background: black; }
      .panel-3 { background: white; }
      .panel-4 { background: #555; }

      .panel video { width: 100%; height: 100%; object-fit: cover; pointer-events: none; }

      .panel-1 { background: white; }
      .album-cover-fullscreen {
        position: absolute; top:0; left:0; width:100%; height:100%; object-fit: cover; z-index:1;
      }
      
      .panel-video { position: relative; }
      .promo-video {
        position:absolute; top:0; left:0; width:100%; height:100vh; object-fit:cover; z-index:1;
      }

      .unmute-button {
        position: absolute; top: 60%; left: 50%; transform: translate(-50%, -50%); z-index: 10;
        background: rgba(255,255,255,0.95); backdrop-filter: blur(10px);
        border: 2px solid white; border-radius: 0;
        padding: 1.5rem 3rem; cursor: pointer;
        font-size: 1.5rem; font-weight: bold; text-transform: uppercase; letter-spacing: 0.1em;
        color: black; transition: all 0.3s;
      }
      .unmute-button:hover {
        background: white; transform: translate(-50%, -50%) scale(1.05);
        box-shadow: 0 10px 30px rgba(255,255,255,0.3);
      }

      .world-clocks {
        position: fixed; top:1rem; left:1rem;
        display:flex; flex-direction: column; gap:0.25rem;
        font-size: clamp(0.6rem,1vw,0.9rem); font-family: monospace; text-transform: uppercase; color:white; z-index:999;
      }
      .world-clocks .city { display:flex; gap:0.25rem; }

      .artist-name {
        position: fixed; top:1rem; left:50%; transform:translateX(-50%);
        font-size: clamp(1rem,2.5vw,1.5rem); font-weight:bold; text-transform:uppercase; margin:0; z-index:999; color:white;
        mix-blend-mode: difference; text-align:center;
      }

      .live-clock {
        position: fixed; top:1rem; right:1rem; font-family: monospace;
        font-size: clamp(0.7rem,1.2vw,0.9rem); text-transform:uppercase; z-index:999; text-align:right; color:white;
      }

      .album-info {
        position:absolute; bottom:clamp(5%,8vh,6%); left:50%; transform:translateX(-50%);
        display:flex; flex-direction:column; align-items:center; gap:0.25rem; text-transform:uppercase; z-index:2;
      }
      .album-title, .album-date { color:white; }
      .album-title { font-size: clamp(0.6rem,1.5vw,0.9rem); font-weight:bold; margin:0; text-align:center; }
      .album-date { font-size: clamp(0.5rem,1vw,0.8rem); opacity:0.8; margin:0; text-align:center; }

      /* Poster grid for Panel 3 */
      .poster-grid {
        display:grid;
        grid-template-columns: repeat(4, 1fr);
        grid-auto-rows: auto;
        gap:1rem;
        width:90%;
        max-width:1200px;
        margin:0 auto;
      }
      
      .poster-item { 
        position:relative; 
        cursor:pointer;
        perspective: 1000px;
      }
      
      .poster-inner {
        position: relative;
        width: 100%;
        height: 0;
        padding-bottom: 100%; /* 1:1 aspect ratio */
        transition: transform 0.6s;
        transform-style: preserve-3d;
      }
      
      .poster-item.flipped .poster-inner {
        transform: rotateY(180deg);
      }
      
      .poster-front, .poster-back {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        backface-visibility: hidden;
      }
      
      .poster-front {
        z-index: 2;
        overflow: hidden;
      }
      
      .poster-back {
        transform: rotateY(180deg);
        background: black;
        color: white;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 0.5rem;
        text-align: center;
        box-sizing: border-box;
        overflow: auto;
      }
      
      .poster-title {
        font-size: clamp(0.5rem, 1vw, 0.8rem);
        font-weight: bold;
        text-transform: uppercase;
        margin: 0 0 0.3rem 0;
        letter-spacing: 0.02em;
        line-height: 1;
      }
      
      .poster-credits {
        font-size: clamp(0.35rem, 0.5vw, 0.45rem);
        line-height: 1.2;
      }
      
      .poster-credits p {
        margin: 0.15rem 0;
      }
      
      .poster-credits strong {
        font-weight: bold;
      }
      
      .poster-front img { 
        position: absolute;
        top: 0;
        left: 0;
        width: 100%; 
        height: 100%; 
        object-fit: cover;
        display: block; 
      }
      
      .poster-front .poster-video { 
        position: absolute; 
        top: 0; 
        left: 0; 
        width: 100%; 
        height: 100%; 
        object-fit: cover; 
        display: none; 
        z-index: 1; 
      }
    </style>
  </body>
</html>